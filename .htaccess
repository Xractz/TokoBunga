ErrorDocument 403 /public/error.php?code=403
ErrorDocument 404 /public/error.php?code=404
ErrorDocument 500 /public/error.php?code=500

<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  
  # Redirect root to public/index.php
  RewriteRule ^$ public/index.php [L]
  
  # Handle requests to public directory - exclude api and config
  RewriteCond %{REQUEST_URI} !^/api/
  RewriteCond %{REQUEST_URI} !^/config/
  RewriteCond %{REQUEST_URI} !^/public/
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ public/$1 [L]
</IfModule>